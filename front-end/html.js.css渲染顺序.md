![render-img](http://taligarsiel.com/Projects/webkitflow.png)

可以发现一个`Dom`过来,正常情况下, `html`解析器和`css`解析器同时进行解析, `html`解析成一个`dom树`,解析成`dom树`的同时,`css`解析器也会解析成一个`css 规则树`.
然后`dom`树和`css`规则树生成了附件,我把他当做`cssom`来看待.附件形成之后,就可以生成一个渲染树了.然后渲染树和`layout`就可以进行`绘制`了.
因为浏览器已经能知道网页中有哪些节点、各个节点的CSS定义以及他们的从属关系, 所以可以进行绘制.最后进行呈现.

上面也说了,是正常情况下.但是不正常情况呢?
不正常情况就是阻塞,不能并行下载.

- css阻塞

`css`其实也会阻塞,不要只以为`js`会阻塞.

CSS会阻塞渲染树的构建，但是不会阻塞DOM构建，但是在CSSOM构建完成之前，页面不会开始渲染（一片空白）.会等待`css规则树`

与js不一样，js虽然会阻塞后续DOM构建，但是前面已经就绪的内容会进行渲染。CSS虽然不阻塞DOM构建，但是会阻塞后面js的执行，从而间接阻塞完整DOM的构建

- js阻塞

JS默认也是会阻塞DOM和渲染树的构建的。

HTML解析器在遇到脚本文件时，默认会停下来去获取脚本（不考虑资源预加载优化），然后执行，期间阻塞DOM构建。

所以加载顺序是自上而下,但是渲染流程却是如图.所以最好将js放在最下面.
